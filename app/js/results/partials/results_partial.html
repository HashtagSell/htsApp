<link rel="stylesheet" href="css/results.css"/>

<div ui-view></div>

<div ng-if="pleaseWait" class="col-lg-7 col-lg-offset-2 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 container-fixed-height">
    <img src="/images/logo/hashtag_spinner.gif" class="img-center"/>
</div>


<div class="outer-container col-lg-10 col-lg-offset-2 col-md-9 col-md-offset-3 col-sm-9 col-sm-offset-3 col-xs-12 results-list">
    <div resize-grid vs-repeat class="inner-container" vs-excess="5" vs-size-property="rowHeight" vs-offset-before="20" on-vs-index-change="infiniteScroll(startIndex, endIndex)">
        <div ng-repeat="row in results.gridRows" class="row">
            <div ng-repeat="result in row.rowContents"
                 ng-click="openSplash(this)"
                 ng-class="{hasPrice: result.price, hasImage: result.images.length, 'grid-item': view.gridView, 'list-item': !view.gridView}"
                 class="col-lg-2 col-md-2 col-sm-2 col-xs-2"
                 data-category="{{::result.category}}"
                 data-email="{{::result.annotations.source_account}}"
                 data-source="{{::result.source}}"
                 data-lat="{{::result.location.lat}}"
                 data-long="{{::result.location.long}}"
                 data-sourceUrl="{{::result.external_url}}"
                 data-postDate="{{::result.annotations.original_posting_date}}"
                    >
                <div class="thumbnail" style="cursor: pointer">
                    <!--<img ng-if="!!result.images.length" ng-repeat="image in result.images" src="{{image.full || image.thumb}}">-->
                    <ribbon ng-if="result.price" data-price="{{::result.price}}">{{result.price | currency}}</ribbon>
                    <hts-fave-toggle></hts-fave-toggle>
                    <img ng-if="!!result.images.length" ng-src="{{::result.images[0].full || result.images[0].thumb || result.images[0].images}}" class="fitImage" images-loaded="imgLoadedEvents">
                    <div ng-if="!result.images.length" class="noImage-Placeholder"></div>
                    <div class="caption">
                        <h4 class="heading">{{::result.heading}}</h4>
                        <p class="body">{{::result.body}}</p>
                        <p class="distance" data-distance="{{::result.distanceFromUser}}">
                            <i class="fa fa-location-arrow"></i>&nbsp;{{::result.distanceFromUser | number:0}} mi.
                        </p>
                        <p data-postDate="{{::result.annotations.original_posting_date}}"></p>
                        <p class="text-center">
                            <!--<a href="#" class="btn btn-default btn-lg" role="button">Place Offer</a>-->
                            <transaction-buttons result="result"></transaction-buttons>
                            <!--<a href="#" class="btn btn-default" role="button">I'm Interested</a>-->
                        </p>
                        <!--<span ng-click="">favorite</span>-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

