<link rel="stylesheet" href="css/interested.css"/>

<div ui-view></div>

<div ng-show="!currentFaves.length" class="background-instructions">
    <div class="inset-background-text">
        :( Awww... You haven't favorited anything.
    </div>
</div>

<div ng-show="currentFaves.length" class="outer-container interested-well">
    <!--TODO: Need this table header to be fixed.-->
    <div>
        <table ng-table="tableParams" class="table">
            <thead>
            <tr ng-show="checkboxes.checked">
                <th>

                </th>
                <th colspan="4" class="fave-batch-button">

                    <dropdown-multiselect selectedlabels="selected_labels" userlabels="UserLabels" selectedfaves="checkboxes.items">

                    </dropdown-multiselect>

                </th>
                <th colspan="4" class="fave-batch-button" ng-model="batchContact" ng-click="batchEmail(checkboxes)">
                    <i class="fa fa-envelope">&nbsp;&nbsp;Contact Seller</i>
                </th>
                <th colspan="4" class="fave-batch-button" ng-model="batchTrash" ng-click="batchRemoveFaves(checkboxes)">
                    <i class="fa fa-trash">&nbsp;&nbsp;Trash</i>
                </th>
            </tr>
            <tr>
                <th colspan="1" width="30px">
                    <input type="checkbox" style="text-align: center; vertical-align: middle;" ng-model="checkboxes.masterCheck" id="select_all" name="filter-checkbox">
                </th>
                <th  colspan="9" class="text-center">
                    <input type="text" ng-model="filters.$" placeholder="Search Favorites" style="width:98%; margin:0px;"/>
                </th>
                <th colspan="2" style="vertical-align: middle;" class="text-center sortable" ng-class="{
                                        'sort-asc': tableParams.isSortBy('price', 'asc'),
                                        'sort-desc': tableParams.isSortBy('price', 'desc')
                                    }"
                    ng-click="tableParams.sorting({'price' : tableParams.isSortBy('price', 'asc') ? 'desc' : 'asc'})">
                    <div>Price</div>
                </th>
            </tr>
            </thead>
        </table>
    </div>
    <div class="inner-container-interested">
        <table ng-table="tableParams" class="table table-striped table-hover table-padding" ng-class="checkboxes.checked ? 'table-big-nudge' : 'table-nudge'">
            <thead>

            </thead>
            <tbody>
                <tr ng-repeat="favorite in $data">
                    <td width="30" style="text-align: center; vertical-align: middle;">
                        <input type="checkbox" ng-model="checkboxes.items[favorite.external_id]" />
                    </td>
                    <td style="width:70px; cursor: pointer;" ng-click='openSplash(favorite)'>
                        <img ng-src="{{::favorite.images[0].full || favorite.images[0].thumb || favorite.images[0].images}}" style="width:70px; height:70px;">
                    </td>
                    <td filter="{ 'heading': 'text' }" style="cursor: pointer;" ng-click='openSplash(favorite)' ng-bind-html="favorite.heading | cleanHeading">
                        <br>
                        <small>
                            <table ng-repeat="label in favorite.labels" class="hashtag-faves-label">
                                <tr>
                                    <td>#{{label}}&nbsp;&nbsp;</td>
                                    <td ng-click="removeIndividualLabel()" style="cursor: pointer; z-index: 10;">x</td>
                                </tr>
                            </table>
                        </small>
                    </td>
                    <td ng-if="favorite.price" style="vertical-align: middle;">
                        {{::favorite.price | currency : $ : 0}}
                    </td>
                    <td ng-if="!favorite.price" style="vertical-align: middle;">
                        No price
                    </td>
                    <td style="width:20px; vertical-align: middle;">
                        <i class="fa fa-minus-circle fa-2x" ng-click="removeFave(favorite);" style="color:red; cursor: pointer;"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

