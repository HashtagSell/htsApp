<link rel="stylesheet" href="css/selling.css"/>

<div ui-view></div>

<div ng-show="!results.length && !pleaseWait" class="background-instructions">
    <div class="inset-background-text">
        :( Awww... You're not selling anything.  <span ng-click="newPost();" style="cursor: pointer; color: rgb(66, 139, 202);">Try it out?</span>
    </div>
</div>


<div class="outer-container" ng-show="results.length">
    <img ng-if="pleaseWait" src="/images/logo/hashtag_spinner.gif" class="spinner-abs-center"/>
    <div class="inner-container">
        <div class="selling-item" ng-class="{'first': $first}" style="cursor: pointer;" ng-repeat="result in results"
             ng-click="openSplash(this)"
             ng-class="{hasPrice: result.price, hasImage: result.images.length}"
             data-category="{{::result.category}}"
             data-email="{{::result.annotations.source_account}}"
             data-lat="{{::result.location.lat}}"
             data-long="{{::result.location.long}}"
             data-sourceUrl="{{::result.external_url}}"
             data-postDate="{{::result.annotations.original_posting_date}}"
                >
            <div class="thumbnail">
                <ribbon ng-if="!!result.price" data-price="{{::result.price}}">{{::result.price | currency}}</ribbon>

                <!--Has NO image-->
                <div ng-if="!result.images.length">
                    <div class="row">
                        <div class="col-lg-5 col-md-6 col-sm-6 col-xs-6">
                            <div class="noImage-Placeholder"></div>
                        </div>
                        <div class="col-lg-7 col-md-6 col-sm-6 col-xs-6 noImage-TextContainer">
                            <div class="row">
                                <div class="caption">
                                    <h4 class="noImage-heading">{{::result.heading}}</h4>
                                    <p class="noImage-body">{{::result.body}}</p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="text-center">
                                    <button class="btn btn-default btn-lg" role="button">Edit Post</button>
                                    <button class="btn btn-danger btn-lg" role="button" ng-click="deletePost(result, $index); $event.stopPropagation();">Delete Post</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!--Has ONE image-->
                <div ng-if="result.images.length == 1">
                    <div class="row">
                        <div class="col-lg-5 col-md-6 col-sm-6 col-xs-6">
                            <img ng-src="{{::result.images[0].thumb || result.images[0].full }}" class="img-responsive singleImage-Image">
                        </div>
                        <div class="col-lg-7 col-md-6 col-sm-6 col-xs-6 singleImage-TextContainer">
                            <div class="row">
                                <div class="caption">
                                    <h4 class="singleImage-heading">{{::result.heading}}</h4>
                                    <p class="singleImage-body">{{::result.body}}</p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="text-center">
                                    <button class="btn btn-default btn-lg" role="button">Edit Post</button>
                                    <button class="btn btn-danger btn-lg" role="button" ng-click="deletePost(result, $index); $event.stopPropagation();">Delete Post</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!--Has MULTIPLE images-->
                <div ng-if="result.images.length > 1">
                    <div class="row">
                        <div class="col-lg-12">
                            <slick-carousel
                                    settings="slickConfig"
                                    media="result.images">
                            </slick-carousel>
                        </div>
                    </div>

                    <div class="row">
                        <div class="caption">
                            <h4 class="carousel-heading">{{::result.heading}}</h4>
                            <p class="carousel-body">{{::result.body}}</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="text-center">
                            <button class="btn btn-default btn-lg" role="button">Edit Post</button>
                            <button class="btn btn-danger btn-lg" role="button" ng-click="deletePost(result, $index); $event.stopPropagation();">Delete Post</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
